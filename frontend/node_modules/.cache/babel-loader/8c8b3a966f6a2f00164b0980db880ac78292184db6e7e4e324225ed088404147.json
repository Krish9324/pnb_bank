{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Krish\\\\Downloads\\\\pnb_project_clean_mongo\\\\frontend\\\\src\\\\pages\\\\Transactions.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Transactions({\n  user\n}) {\n  _s();\n  const [tx, setTx] = useState([]);\n  const [balance, setBalance] = useState(0);\n  const load = async () => {\n    const r = await fetch('http://localhost:4000/api/transactions/' + user.id);\n    const d = await r.json();\n    setTx(d);\n    if (d.length > 0) setBalance(d[0].balance_after);\n  };\n  useEffect(() => {\n    if (user) load();\n  }, []);\n  const deposit = async () => {\n    const a = prompt('Amount?');\n    await fetch('http://localhost:4000/api/transactions/deposit', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        user_id: user.id,\n        amount: a\n      })\n    });\n    load();\n  };\n  const withdraw = async () => {\n    const a = prompt('Amount?');\n    const r = await fetch('http://localhost:4000/api/transactions/withdraw', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        user_id: user.id,\n        amount: a\n      })\n    });\n    const d = await r.json();\n    if (d.error) alert(d.error);\n    load();\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: [\"Balance: \", balance]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 14,\n      columnNumber: 16\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: deposit,\n      children: \"Deposit\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 14,\n      columnNumber: 43\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: withdraw,\n      children: \"Withdraw\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 14,\n      columnNumber: 85\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: tx.map(t => /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [t.type, \" - \", t.amount]\n      }, t.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 14,\n        columnNumber: 144\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 14,\n      columnNumber: 129\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 14,\n    columnNumber: 11\n  }, this);\n}\n_s(Transactions, \"2NW2lbCNPHBhfeh0HsBLSftYb/M=\");\n_c = Transactions;\nvar _c;\n$RefreshReg$(_c, \"Transactions\");","map":{"version":3,"names":["useEffect","useState","jsxDEV","_jsxDEV","Transactions","user","_s","tx","setTx","balance","setBalance","load","r","fetch","id","d","json","length","balance_after","deposit","a","prompt","method","headers","body","JSON","stringify","user_id","amount","withdraw","error","alert","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","map","t","type","_c","$RefreshReg$"],"sources":["C:/Users/Krish/Downloads/pnb_project_clean_mongo/frontend/src/pages/Transactions.js"],"sourcesContent":["import {useEffect,useState} from 'react';\nexport default function Transactions({user}){\n  const [tx,setTx]=useState([]);\n  const [balance,setBalance]=useState(0);\n  const load=async()=>{\n    const r=await fetch('http://localhost:4000/api/transactions/'+user.id);\n    const d=await r.json();\n    setTx(d);\n    if(d.length>0) setBalance(d[0].balance_after);\n  };\n  useEffect(()=>{ if(user) load(); },[]);\n  const deposit=async()=>{ const a=prompt('Amount?'); await fetch('http://localhost:4000/api/transactions/deposit',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({user_id:user.id,amount:a})}); load(); };\n  const withdraw=async()=>{ const a=prompt('Amount?'); const r=await fetch('http://localhost:4000/api/transactions/withdraw',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({user_id:user.id,amount:a})}); const d=await r.json(); if(d.error) alert(d.error); load(); };\n  return (<div><h3>Balance: {balance}</h3><button onClick={deposit}>Deposit</button><button onClick={withdraw}>Withdraw</button><ul>{tx.map(t=><li key={t.id}>{t.type} - {t.amount}</li>)}</ul></div>);\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}